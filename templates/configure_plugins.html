<!DOCTYPE html>
<html>
    <head>
	    {% load static %}
    	<script src="{% static "jquery-3.2.1.js" %}"></script>
    	<script src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
    	<script src="{% static "validation_plugin/jquery.validate.min.js" %}"></script>
    	<style type="text/css">
			{% include "configure_plugins.css" %}
    	</style>
        <meta charset="utf-8">
        <title>S2E Web</title>        
    </head>
    <body id="body">
	 
	 {% csrf_token %}
	 	
	 <div class="left_menu" id="left-menu-div">
	 	
	 	<!-- The menu on the left of the page, contains every plugins -->
	 	{% for plugin in plugins %}
	 		<input type="hidden" id="checkbox_value_{{ plugin.name }}" name="{{ plugin.name }}" />
	 		<input type="checkbox" class="checkbox-normal" id="checkbox_{{ plugin.name }}" onclick="checkboxClickHandler(this)" value="" name="{{ plugin.name }}">
	 		{{ plugin.name }}<br>
	 	{% endfor %}
	 	
	 </div>
	 
	 <form id="validation_form">
	 		 
		 <div style="margin-left: 420px;" id="right-menu-div">	
		 
		 	<input id="id_binary_file" name="binary_file" type="file" required />
		 	<input type="button" onclick="submit_data()" value="Launch S2E Analysis" />
		 	<input type="button" onclick="see_last_result()" value="See last results" />
		 	<div id="spinner" class="loader"></div>
		 	
		 		
		 </div>
		 
	 </form>
	 	
		<script type="text/javascript">
				//init the dependency map
				var pluginMap = new Map();
				var uniqueId = 0;
				
				var tmpCopyArray;
				{% for plugin in plugins %}
					tmpCopyArray = new Array();
					
					{% for dependency in plugin.dependencies %}
						tmpCopyArray.push("{{dependency}}");
					{% endfor %}
					
					pluginMap.set("{{plugin.name}}", {isChecked: false, depCount: 0, dependencies: tmpCopyArray});				
				
				{% endfor %}
				
				var plugins = {{ pluginsJson | safe }};
				
				for(var i = 0; i < plugins.length; ++i){
					generatePluginConfigOption(plugins[i]);
				}
				
				
				{% include "configure_plugins.js" %}
				
				
		
		</script> 
		
	</body>
	
	
</html> 
